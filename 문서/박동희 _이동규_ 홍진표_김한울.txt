조장 : 박동희

// ==============공통 부분
모든 클래스는 
Protocol code = new Protocol();
를 기본적으로 사용.(서버 제외)

모든 서버클라이언트와 서버채팅방은 
각각 고유 key를 가지고 있음.

서버에서 채팅방과 클라이언트를 생성시
생성자 부분으로 key를 할당해주기.

위의 key를 이용해서 해쉬맵의 키값으로 사용하기.
[경고]키값을 닉네임,id,방이름으론 사용 불가능.
만약 키가 아닌 닉네임등으로 사용후 
닉네임등을 변경시 키값 불일치로 사용 불가능하게됨.

귓말 같은 명령어는 "명령어/ 어쩌구 저쩌구"식으로 사용.

gui는 넷빈즈 사용하기

닉네임 체크나 이메일 체크같은건 StringChack 이용
	
//==============공용 사용 부분===========
프로토콜 Protocol

	//프로토콜 받을때 사용법
	스위치(프로토콜&상위구분)
	케이스 회원:
		스위치(프로토콜&하위구분)
			케이스 가입:
			케이스 로그인:
	케이스 채팅:
	
	//프로토콜 보낼때 사용법
		//채팅에서 방접속 실패시
		메세지전송(채팅|방접속|실패|+"적을 내용")
		
	//==========실제 코드는 프로젝트의 자바파일 참조
	static final int 상위구분 = 0x000f; //
	static final int 하위구분 = 0x0ff0; //
	static final int 상태구분 = 0xf000; //
	//static final int 이유구분 = 0xf0000; //

	static final int 서버 = 0x0001; // 회원관련 코드
	static final int 회원가입 = 0x0010 | 서버; // 회원가입|아이디|비번|닉네임|
	static final int 로그인 = 0x0020 | 서버; // 로그인|아이디|비번|
	static final int 닉네임변경 = 0x0030 | 서버; // 닉네임변경|아이디|
	static final int 채팅방생성 = 0x0040 | 서버; // 채팅방|방장아이디|
	static final int 채팅방접속 = 0x0050 | 서버; // 채팅방접속|채팅방|

	static final int 채팅 = 0x0002; // 채팅 관련 코드
	static final int 채팅내용 = 0x0060 | 채팅; // 채팅방접속|채팅방|채팅내용|
	static final int 강퇴요청 = 0x0070 | 채팅; // 강퇴요청|아이디|
	static final int 귓말 = 0x080; // 귓말|상대아이디|내용|
	
	static final int 성공 = 0x1000; // 성공|
	static final int 중복 = 0xe000; //
	static final int 실패 = 0xf000; // 실패|
	
정규식 
	메일 체크
	아이디 체크

	//===============서버 부분
	
서버_메인 ServerMain
	서버GUI 실행
	서버 실행
	
	
서버 Sever(스래드)
	v=	서버접속자들(해쉬)
	v=	DB처리
	v=	채팅방(해쉬)
	
	run
		서버 소캣 생성
		클라이언트 소캣 받기 반복
			서버_클라이언트 생성(소캣,키값,서버).시작
			서버접속자들에 등록(서버_클라이언트)
			gui의 테이블에 등록
	회원가입
	로그인
	닉네임 변경
	채팅방 생성(방이름,)
		서버_채팅(방이름,방장) 생성
		채팅방에 추가(서버_채팅)
	채팅 접속(키값,서버_클라이언트)
		채팅방(키값).접속자(서버_클라이언트)으로 등록	
	서버로그
		gui에 기록
		
서버_클라이언트(스레드) ServerInClient
	v=	닉네임
	v=	서버(스태틱)
	v=	서버_채팅
	v=	인아웃스트림
	
	run			
		프로토콜 받기 반복 처리
			회원가입
			로그인
			닉네임 변경
			채팅방 생성
			채팅방 접속
			채팅 전송			
			강퇴 요청
	프로토콜 전송 처리
		채팅 전송	

서버_채팅(스레드) ServerChat
	v=	채팅접속자들(해쉬)
	v=	방이름
	
	서버_채팅(방이름,방장)//생성자
		
	접속자(서버_클라이언트)
		
	채팅 전달
		서버_클라이언트.프로토콜 전송(채팅|내용)
	강퇴 투표
	강퇴 처리
	접속해제(서버_클라이언트)


	
서버GUI (스레드) ServerGui
	서버 접속자 리스트
	로그
	
오라클DB처리 (스레드)
	v:n0				:pk	:시퀸스
	v:id	:n0t null 	:uk	:varchar2(20)
	v:pw	:n0t null		:varchar2(20)
	v:nick	:n0t null	:uk	:varchar2(20)
	
	오라클 접속
	
	테이블 ID 조회
		있을시 N0반환
	테이블에 ID 등록
		중복 확인
	닉네임 변경
		중복 확인
		
	//===============클라이언트 부분
	
클라이언트 Cilent

	run
		
	회원가입 userCreate
		비번 암호화
	로그인 요청 login
		비번 암호화
	채팅방 생성 chatRoomCreate
	채팅방 리스트 받기 chatRoomList
	채팅유저 리스트 받기 chatUserList
	채팅접속 chatRoomJoin
	채팅내용 전송 chatMsg
	닉네임 변경 요청 userNickChange
	강퇴 요청 chatUserKick
	
클라이언트GUI ClientGui
	접속자 테이블

암호화 Password
	SHA256(비번)
	

	
